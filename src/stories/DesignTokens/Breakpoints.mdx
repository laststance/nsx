import { Meta, Canvas, Story } from '@storybook/addon-docs'

<Meta title="Design Tokens/Breakpoints" />

# Breakpoints

NSX uses a mobile-first responsive design system with three strategic breakpoints for optimal layouts across all devices.

## Breakpoint Scale

Custom breakpoints optimized for NSX's content and user base.

<Canvas>
  <Story name="Breakpoint Scale">
    <div style={{ display: 'flex', flexDirection: 'column', gap: '16px' }}>
      {[
        {
          name: 'Mobile (Default)',
          prefix: '',
          width: '< 640px',
          description: 'Mobile phones, small screens',
          color: '#ef4444',
        },
        {
          name: 'Small (sm)',
          prefix: 'sm:',
          width: '≥ 640px',
          description: 'Large phones, small tablets',
          color: '#f59e0b',
        },
        {
          name: 'Medium (md)',
          prefix: 'md:',
          width: '≥ 768px',
          description: 'Tablets, small laptops',
          color: '#22c55e',
        },
        {
          name: 'Large (lg)',
          prefix: 'lg:',
          width: '≥ 980px',
          description: 'Desktops, large screens',
          color: '#3b82f6',
        },
      ].map(({ name, prefix, width, description, color }) => (
        <div
          key={name}
          style={{
            display: 'flex',
            alignItems: 'center',
            padding: '16px',
            backgroundColor: `${color}10`,
            border: `2px solid ${color}30`,
            borderRadius: '8px',
            gap: '16px',
          }}
        >
          <div
            style={{
              minWidth: '60px',
              height: '60px',
              backgroundColor: color,
              borderRadius: '6px',
              display: 'flex',
              alignItems: 'center',
              justifyContent: 'center',
              color: 'white',
              fontSize: '12px',
              fontWeight: '600',
            }}
          >
            {prefix || 'base'}
          </div>
          <div style={{ flex: 1 }}>
            <h4
              style={{
                margin: '0 0 4px 0',
                fontSize: '16px',
                fontWeight: '600',
                color: '#374151',
              }}
            >
              {name}
            </h4>
            <p
              style={{
                margin: '0 0 4px 0',
                fontSize: '14px',
                color: '#6b7280',
                fontFamily: 'source-code-pro, monospace',
              }}
            >
              {width}
            </p>
            <p
              style={{
                margin: '0',
                fontSize: '14px',
                color: '#6b7280',
              }}
            >
              {description}
            </p>
          </div>
        </div>
      ))}
    </div>
  </Story>
</Canvas>

## Responsive Behavior Examples

See how layouts adapt across different breakpoints.

<Canvas>
  <Story name="Responsive Behavior">
    <div style={{ display: 'flex', flexDirection: 'column', gap: '32px' }}>
      
      {/* Typography Scaling */}
      <div>
        <h3 style={{ margin: '0 0 16px 0', fontSize: '16px', fontWeight: '600', color: '#374151' }}>
          Typography Scaling
        </h3>
        <div style={{ 
          padding: '24px', 
          backgroundColor: '#f9fafb', 
          borderRadius: '8px',
          border: '1px solid #e5e7eb'
        }}>
          <h1 style={{ 
            margin: '0 0 8px 0',
            fontSize: 'clamp(20px, 4vw, 24px)',
            fontWeight: '700',
            color: '#111827'
          }}>
            Responsive Heading
          </h1>
          <p style={{ 
            margin: '0', 
            fontSize: '14px', 
            color: '#6b7280',
            fontFamily: 'source-code-pro, monospace'
          }}>
            text-xl lg:text-2xl
          </p>
          <p style={{ 
            marginTop: '12px', 
            fontSize: '14px', 
            color: '#6b7280',
            lineHeight: '1.5'
          }}>
            This heading scales from 20px on mobile to 24px on large screens. Typography should be readable at all screen sizes while maintaining visual hierarchy.
          </p>
        </div>
      </div>

      {/* Grid Layouts */}
      <div>
        <h3 style={{ margin: '0 0 16px 0', fontSize: '16px', fontWeight: '600', color: '#374151' }}>
          Grid Layouts
        </h3>
        <div style={{
          display: 'grid',
          gridTemplateColumns: 'repeat(auto-fit, minmax(250px, 1fr))',
          gap: '16px',
          padding: '24px',
          backgroundColor: '#f9fafb',
          borderRadius: '8px',
          border: '1px solid #e5e7eb'
        }}>
          {[1, 2, 3, 4].map(item => (
            <div key={item} style={{
              padding: '16px',
              backgroundColor: 'white',
              borderRadius: '6px',
              border: '1px solid #e5e7eb',
              minHeight: '100px',
              display: 'flex',
              alignItems: 'center',
              justifyContent: 'center',
              fontSize: '14px',
              color: '#6b7280'
            }}>
              Card {item}
            </div>
          ))}
        </div>
        <p style={{
          marginTop: '12px',
          fontSize: '12px',
          color: '#6b7280',
          fontFamily: 'source-code-pro, monospace'
        }}>
          grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4
        </p>
      </div>

      {/* Flex Direction */}
      <div>
        <h3 style={{ margin: '0 0 16px 0', fontSize: '16px', fontWeight: '600', color: '#374151' }}>
          Flex Direction Changes
        </h3>
        <div style={{
          display: 'flex',
          flexDirection: 'column',
          gap: '16px',
          padding: '24px',
          backgroundColor: '#f9fafb',
          borderRadius: '8px',
          border: '1px solid #e5e7eb'
        }}>
          <div style={{
            display: 'flex',
            flexDirection: window.innerWidth >= 768 ? 'row' : 'column',
            gap: '16px'
          }}>
            <div style={{
              flex: 1,
              padding: '16px',
              backgroundColor: '#22c55e',
              borderRadius: '6px',
              color: 'white',
              textAlign: 'center',
              fontWeight: '600'
            }}>
              Main Content
            </div>
            <div style={{
              width: window.innerWidth >= 768 ? '200px' : '100%',
              padding: '16px',
              backgroundColor: '#3b82f6',
              borderRadius: '6px',
              color: 'white',
              textAlign: 'center',
              fontWeight: '600'
            }}>
              Sidebar
            </div>
          </div>
        </div>
        <p style={{
          marginTop: '12px',
          fontSize: '12px',
          color: '#6b7280',
          fontFamily: 'source-code-pro, monospace'
        }}>
          flex flex-col md:flex-row
        </p>
      </div>

      {/* Spacing Adjustments */}
      <div>
        <h3 style={{ margin: '0 0 16px 0', fontSize: '16px', fontWeight: '600', color: '#374151' }}>
          Responsive Spacing
        </h3>
        <div style={{
          padding: window.innerWidth >= 980 ? '32px' : window.innerWidth >= 768 ? '24px' : '16px',
          backgroundColor: '#f9fafb',
          borderRadius: '8px',
          border: '1px solid #e5e7eb'
        }}>
          <div style={{
            display: 'flex',
            flexDirection: 'column',
            gap: window.innerWidth >= 768 ? '16px' : '12px'
          }}>
            {[1, 2, 3].map(item => (
              <div key={item} style={{
                padding: window.innerWidth >= 768 ? '16px' : '12px',
                backgroundColor: 'white',
                borderRadius: '6px',
                border: '1px solid #e5e7eb',
                textAlign: 'center',
                fontSize: '14px',
                color: '#6b7280'
              }}>
                Item {item}
              </div>
            ))}
          </div>
        </div>
        <p style={{
          marginTop: '12px',
          fontSize: '12px',
          color: '#6b7280',
          fontFamily: 'source-code-pro, monospace'
        }}>
          p-4 md:p-6 lg:p-8, space-y-3 md:space-y-4
        </p>
      </div>

    </div>

  </Story>
</Canvas>

## Common Responsive Patterns

Frequently used responsive design patterns in NSX.

<Canvas>
  <Story name="Common Patterns">
    <div style={{ display: 'flex', flexDirection: 'column', gap: '32px' }}>
      
      {/* Navigation */}
      <div>
        <h3 style={{ margin: '0 0 16px 0', fontSize: '16px', fontWeight: '600', color: '#374151' }}>
          Navigation Patterns
        </h3>
        
        {/* Mobile Navigation */}
        <div style={{ marginBottom: '16px' }}>
          <h4 style={{ margin: '0 0 8px 0', fontSize: '14px', fontWeight: '600', color: '#6b7280' }}>
            Mobile (< 640px)
          </h4>
          <div style={{ 
            padding: '12px 16px',
            backgroundColor: 'white',
            border: '1px solid #e5e7eb',
            borderRadius: '6px',
            display: 'flex',
            justifyContent: 'space-between',
            alignItems: 'center'
          }}>
            <div style={{ fontSize: '16px', fontWeight: '600' }}>NSX</div>
            <button style={{ 
              padding: '8px',
              backgroundColor: 'transparent',
              border: 'none',
              fontSize: '18px',
              cursor: 'pointer'
            }}>
              ☰
            </button>
          </div>
        </div>

        {/* Desktop Navigation */}
        <div>
          <h4 style={{ margin: '0 0 8px 0', fontSize: '14px', fontWeight: '600', color: '#6b7280' }}>
            Desktop (≥ 768px)
          </h4>
          <div style={{
            padding: '12px 16px',
            backgroundColor: 'white',
            border: '1px solid #e5e7eb',
            borderRadius: '6px',
            display: 'flex',
            justifyContent: 'space-between',
            alignItems: 'center'
          }}>
            <div style={{ fontSize: '16px', fontWeight: '600' }}>NSX</div>
            <nav style={{ display: 'flex', gap: '24px' }}>
              {['Dashboard', 'Create', 'Settings'].map(item => (
                <a key={item} style={{
                  fontSize: '14px',
                  color: '#374151',
                  textDecoration: 'none',
                  fontWeight: '500'
                }}>
                  {item}
                </a>
              ))}
            </nav>
            <div style={{ fontSize: '14px' }}>User Menu</div>
          </div>
        </div>
      </div>

      {/* Form Layouts */}
      <div>
        <h3 style={{ margin: '0 0 16px 0', fontSize: '16px', fontWeight: '600', color: '#374151' }}>
          Form Layouts
        </h3>
        <div style={{
          display: 'grid',
          gridTemplateColumns: window.innerWidth >= 768 ? '1fr 1fr' : '1fr',
          gap: '16px',
          padding: '24px',
          backgroundColor: 'white',
          border: '1px solid #e5e7eb',
          borderRadius: '8px'
        }}>
          <div style={{ display: 'flex', flexDirection: 'column', gap: '8px' }}>
            <label style={{ fontSize: '14px', fontWeight: '600', color: '#374151' }}>
              First Name
            </label>
            <input
              type="text"
              style={{
                padding: '8px 12px',
                border: '1px solid #d1d5db',
                borderRadius: '6px',
                fontSize: '14px'
              }}
            />
          </div>
          <div style={{ display: 'flex', flexDirection: 'column', gap: '8px' }}>
            <label style={{ fontSize: '14px', fontWeight: '600', color: '#374151' }}>
              Last Name
            </label>
            <input
              type="text"
              style={{
                padding: '8px 12px',
                border: '1px solid #d1d5db',
                borderRadius: '6px',
                fontSize: '14px'
              }}
            />
          </div>
          <div style={{
            display: 'flex',
            flexDirection: 'column',
            gap: '8px',
            gridColumn: window.innerWidth >= 768 ? '1 / -1' : 'auto'
          }}>
            <label style={{ fontSize: '14px', fontWeight: '600', color: '#374151' }}>
              Email Address
            </label>
            <input
              type="email"
              style={{
                padding: '8px 12px',
                border: '1px solid #d1d5db',
                borderRadius: '6px',
                fontSize: '14px'
              }}
            />
          </div>
        </div>
        <p style={{
          marginTop: '12px',
          fontSize: '12px',
          color: '#6b7280',
          fontFamily: 'source-code-pro, monospace'
        }}>
          grid grid-cols-1 md:grid-cols-2
        </p>
      </div>

      {/* Button Groups */}
      <div>
        <h3 style={{ margin: '0 0 16px 0', fontSize: '16px', fontWeight: '600', color: '#374151' }}>
          Button Group Patterns
        </h3>
        <div style={{
          display: 'flex',
          flexDirection: window.innerWidth >= 640 ? 'row' : 'column',
          gap: '12px',
          padding: '24px',
          backgroundColor: 'white',
          border: '1px solid #e5e7eb',
          borderRadius: '8px'
        }}>
          <button style={{
            flex: window.innerWidth >= 640 ? '0 0 auto' : '1',
            padding: '8px 16px',
            backgroundColor: '#22c55e',
            color: 'white',
            border: 'none',
            borderRadius: '6px',
            fontSize: '14px',
            fontWeight: '600',
            cursor: 'pointer'
          }}>
            Primary Action
          </button>
          <button style={{
            flex: window.innerWidth >= 640 ? '0 0 auto' : '1',
            padding: '8px 16px',
            backgroundColor: 'transparent',
            color: '#374151',
            border: '1px solid #d1d5db',
            borderRadius: '6px',
            fontSize: '14px',
            fontWeight: '500',
            cursor: 'pointer'
          }}>
            Secondary Action
          </button>
        </div>
        <p style={{
          marginTop: '12px',
          fontSize: '12px',
          color: '#6b7280',
          fontFamily: 'source-code-pro, monospace'
        }}>
          flex flex-col sm:flex-row
        </p>
      </div>

    </div>

  </Story>
</Canvas>

## Breakpoint Usage Guidelines

### Mobile-First Approach

NSX follows a mobile-first design philosophy:

- Default styles target mobile devices (< 640px)
- Use responsive prefixes to enhance for larger screens
- Design for the smallest screen first, then progressively enhance

### Breakpoint Selection

- **sm: (640px+)**: Large phones, small tablets
  - Adjust navigation from hamburger to horizontal
  - Stack to side-by-side layouts for simple content
- **md: (768px+)**: Tablets, small laptops
  - Introduce multi-column layouts
  - Show/hide secondary content
  - Increase spacing and typography sizes
- **lg: (980px+)**: Desktops, large screens
  - Full multi-column layouts
  - Maximum spacing and typography
  - Show all interface elements

### Common Responsive Classes

#### Layout

```css
/* Grid columns */
grid-cols-1 sm:grid-cols-2 lg:grid-cols-3

/* Flex direction */
flex-col md:flex-row

/* Display */
hidden sm:block
block sm:hidden
```

#### Spacing

```css
/* Padding */
p-4 md:p-6 lg:p-8

/* Margins */
my-4 md:my-6 lg:my-8

/* Gaps */
gap-4 md:gap-6 lg:gap-8
```

#### Typography

```css
/* Font sizes */
text-base md:text-lg lg:text-xl

/* Font weights */
font-normal md:font-medium
```

### Performance Considerations

- Minimize the number of breakpoint changes
- Use consistent breakpoint patterns across components
- Test on real devices, not just browser dev tools
- Consider touch targets for mobile (minimum 44px)

### Accessibility

- Ensure content reflows properly at all breakpoints
- Maintain focus order across layout changes
- Keep interactive elements accessible on all screen sizes
- Test with screen readers across different viewports
